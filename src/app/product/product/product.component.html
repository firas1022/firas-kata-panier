<div style="padding: 10px">
  <mat-card>
    <mat-card-header>
      <mat-card-title>{{product.productName}}</mat-card-title>
      <mat-card-subtitle>{{product.description}}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      Catégorie: {{product.category}}
      <br />
      Prix: {{ taxService.getPriceWithTax(product) }}
    </mat-card-content>

    <mat-card-actions class="product-actions">
      <form [formGroup]="productForm">
        <div *ngIf="product.quantity !== 0; else notAvailableBlock" class="form-group row">
          <label class="col-sm-3 col-form-label pt-2" for="quantity">Quantité</label>
          <div class="col-sm-4 pl-0">
            <input type="number" class="form-control form-control-sm" id="quantity" min="1" formControlName="quantity">
            <div *ngIf="productForm?.get('quantity')?.invalid" class="text-danger">
              {{ getQuantityErrorMessage() }}
            </div>
          </div>
        </div>
        <ng-template #notAvailableBlock>non disponible</ng-template>
      </form>
      <button class="btn btn-primary btn-sm ml-auto" [disabled]="product.quantity === 0 || productForm.get('quantity')?.invalid"
              (click)="addToCart(product, productForm.get('quantity')?.value)">Ajouter</button>
    </mat-card-actions>
  </mat-card>
</div>
